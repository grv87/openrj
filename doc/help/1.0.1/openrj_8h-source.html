<head>
 <link href="openrj.css" rel="stylesheet" type="text/css">
</head>

<table width = "100%">
 <tr>
  <td align = "center" valign = "middle">
   <a href = "http://www.cuj.com/"><img src = "cuj_logo.gif" border = "0" width = "155" height = "50" alt = "C/C++ User's Journal" /></a>
  </td>
  <td align = "center" valign = "middle">
   <a href = "http://www.synesis.com.au/"><img src = "syn_head.jpg" border = "0" width = "343" height = "50" alt = "Synesis Software" /></a>
  </td>
  <td align = "center" valign = "middle">
   <a href = "http://stlsoft.org"><img src = "stlsoft200x100.jpg" border = "0" width = "100" height = "50" alt = "STLSoft - ... Robust, Lightweight, Cross-platform, Template Software ..." /></a>
  </td>
<!--
  <td align = "center" valign = "middle">
   <a href = "http://atlstl.org"><img src = "atlstl200x100.jpg" border = "0" width = "100" height = "50" alt = "ATLSTL - where the Standard Template Library meets the Active Template Library" /></a>
  </td>
-->
  <td align = "center" valign = "middle">
   <a href = "http://comstl.org"><img src = "comstl200x100.jpg" border = "0" width = "100" height = "50" alt = "COMSTL - where the Standard Template Library meets the Component Object Model" /></a>
  </td>
<!--
  <td align = "center" valign = "middle">
   <a href = "http://inetstl.org"><img src = "inetstl200x100.jpg" border = "0" width = "100" height = "50" alt = "InetSTL - where the Standard Template Library meets the Internet" /></a>
  </td>
-->
  <td align = "center" valign = "middle">
   <a href = "http://unixstl.org"><img src = "unixstl200x100.jpg" border = "0" width = "100" height = "50" alt = "UNIXSTL - Template Software for the UNIX Operating System" /></a>
  </td>
  <td align = "center" valign = "middle">
   <a href = "http://winstl.org"><img src = "winstl200x100.jpg" border = "0" width = "100" height = "50" alt = "WinSTL - where the Standard Template Library meets the Win32 API" /></a>
  </td>
 </tr>
 <tr>
  <td width = "100%" colspan = "6">
   <hr width = "100%">
  </td>
 </tr>
</table>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>include/openrj/openrj.h</h1><pre class="fragment"><div>00001 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00002 <span class="comment"> * File:    openrj.h</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> * Purpose: Root header file for the Open-RJ library</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> * Created: 11th June 2004</span>
00007 <span class="comment"> * Updated: 29th September 2004</span>
00008 <span class="comment"> *</span>
00009 <span class="comment"> * Home:    http://openrj.org/</span>
00010 <span class="comment"> *</span>
00011 <span class="comment"> * Copyright (c) 2004, Matthew Wilson and Synesis Software</span>
00012 <span class="comment"> * All rights reserved.</span>
00013 <span class="comment"> *</span>
00014 <span class="comment"> * Redistribution and use in source and binary forms, with or without </span>
00015 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
00016 <span class="comment"> *</span>
00017 <span class="comment"> * - Redistributions of source code must retain the above copyright notice, this</span>
00018 <span class="comment"> *   list of conditions and the following disclaimer. </span>
00019 <span class="comment"> * - Redistributions in binary form must reproduce the above copyright notice,</span>
00020 <span class="comment"> *   this list of conditions and the following disclaimer in the documentation</span>
00021 <span class="comment"> *   and/or other materials provided with the distribution.</span>
00022 <span class="comment"> * - Neither the names of Matthew Wilson and Synesis Software nor the names of</span>
00023 <span class="comment"> *   any contributors may be used to endorse or promote products derived from</span>
00024 <span class="comment"> *   this software without specific prior written permission.</span>
00025 <span class="comment"> *</span>
00026 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</span>
00027 <span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
00028 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
00029 <span class="comment"> * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span>
00030 <span class="comment"> * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span>
00031 <span class="comment"> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span>
00032 <span class="comment"> * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span>
00033 <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span>
00034 <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span>
00035 <span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
00036 <span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span>
00037 <span class="comment"> *</span>
00038 <span class="comment"> * ////////////////////////////////////////////////////////////////////////// */</span>
00039 
00040 
00041 <span class="comment">/* \file openrj/openrj.h This is the root file of the Open-RJ C-API</span>
00042 <span class="comment"> *</span>
00043 <span class="comment"> */</span>
00044 
00045 <span class="preprocessor">#ifndef OPENRJ_INCL_H_OPENRJ</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define OPENRJ_INCL_H_OPENRJ</span>
00047 <span class="preprocessor"></span>
00048 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00049 <span class="comment"> * Version information</span>
00050 <span class="comment"> */</span>
00051 
00052 <span class="preprocessor">#ifndef OPENRJ_DOCUMENTATION_SKIP_SECTION</span>
00053 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_H_OPENRJ_MAJOR      1</span>
00054 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_H_OPENRJ_MINOR      7</span>
00055 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_H_OPENRJ_REVISION   1</span>
00056 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_H_OPENRJ_EDIT       25</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* !OPENRJ_DOCUMENTATION_SKIP_SECTION */</span>
00058 
00075 <span class="preprocessor">#ifndef OPENRJ_DOCUMENTATION_SKIP_SECTION</span>
00076 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_1_0_1       0x01000100</span>
00077 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_VER_1_1_1       0x01010100</span>
00078 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* !OPENRJ_DOCUMENTATION_SKIP_SECTION */</span>
00079 
00080 <span class="preprocessor">#define OPENRJ_VER_MAJOR    1</span>
00081 <span class="preprocessor"></span><span class="preprocessor">#define OPENRJ_VER_MINOR    1</span>
00082 <span class="preprocessor"></span><span class="preprocessor">#define OPENRJ_VER_REVISION 1</span>
00083 <span class="preprocessor"></span>
00084 <span class="preprocessor">#define OPENRJ_VER  OPENRJ_VER_1_1_1</span>
00085 <span class="preprocessor"></span>
00086 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00087 <span class="comment"> * Includes</span>
00088 <span class="comment"> */</span>
00089 
00090 <span class="preprocessor">#include &lt;stddef.h&gt;</span>     <span class="comment">/* for size_t */</span>
00091 
00092 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00093 <span class="comment"> * Documentation</span>
00094 <span class="comment"> */</span>
00095 
00151 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00152 <span class="comment"> * Namespace</span>
00153 <span class="comment"> */</span>
00154 
00155 <span class="preprocessor">#if !defined(__cplusplus) &amp;&amp; \</span>
00156 <span class="preprocessor">    !defined(OPENRJ_DOCUMENTATION_SKIP_SECTION) &amp;&amp; \</span>
00157 <span class="preprocessor">    !defined(ORJ_NO_NAMESPACE)</span>
00158 <span class="preprocessor"></span><span class="preprocessor"># define ORJ_NO_NAMESPACE</span>
00159 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __cplusplus, etc. */</span>
00160 
00161 <span class="preprocessor">#if !defined(ORJ_NO_NAMESPACE)</span>
00162 <span class="preprocessor"></span>
<a name="l00163"></a><a class="code" href="namespaceopenrj.html">00163</a> <span class="keyword">namespace </span>openrj
00164 {
00165 <span class="preprocessor">#endif </span><span class="comment">/* !ORJ_NO_NAMESPACE */</span>
00166 
00167 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00168 <span class="comment"> * Macros and symbols</span>
00169 <span class="comment"> */</span>
00170 
00171 <span class="preprocessor">#if defined(OPENRJ_DOCUMENTATION_SKIP_SECTION) || \</span>
00172 <span class="preprocessor">    defined(_CH_)</span>
00173 <span class="preprocessor"></span><span class="preprocessor"># define OPENRJ_NO_STRUCT_TAG_PREFIX</span>
00174 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* OPENRJ_DOCUMENTATION_SKIP_SECTION || _CH_ */</span>
00175 
00176 <span class="preprocessor">#ifdef OPENRJ_NO_STRUCT_TAG_PREFIX</span>
00177 <span class="preprocessor"></span><span class="preprocessor"># define ORJ_TAG_NAME(x)                    x</span>
00178 <span class="preprocessor"></span><span class="preprocessor">#else </span><span class="comment">/* ? OPENRJ_NO_STRUCT_TAG_PREFIX */</span>
00179 <span class="preprocessor"># define ORJ_TAG_NAME(x)                    tag ## x</span>
00180 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* OPENRJ_NO_STRUCT_TAG_PREFIX */</span>
00181 
00182 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00183 <span class="comment"> * Ch</span>
00184 <span class="comment"> */</span>
00185 
00186 <span class="preprocessor">#ifdef _CH_</span>
00187 <span class="preprocessor"></span><span class="preprocessor"># include &lt;chdl.h&gt;</span>
00188 LOAD_CHDL_CODE(openrjch, OpenRJ)
00189 #endif <span class="comment">/* _CH_ */</span>
00190 
00191 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00192 <span class="comment"> * Types</span>
00193 <span class="comment"> */</span>
00194 
00195 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   orj_byte_t;
00196 
00197 <span class="keyword">typedef</span> <span class="keywordtype">char</span>            orj_char_t;
00198 <span class="comment">/* typedef wchar_t           orj_char_t; */</span>
00199 
00200 <span class="preprocessor">#ifdef __cplusplus</span>
00201 <span class="preprocessor"></span><span class="preprocessor"># define ORJ_EXTERN_C_  extern "C"</span>
00202 <span class="preprocessor"></span><span class="preprocessor">#else </span><span class="comment">/* ? __cplusplus */</span>
00203 <span class="preprocessor"># define ORJ_EXTERN_C_  extern</span>
00204 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* !__cplusplus */</span>
00205 <span class="preprocessor">#define ORJ_CALL(rt)    ORJ_EXTERN_C_ rt</span>
00206 <span class="preprocessor"></span>
00207 
<a name="l00210"></a><a class="code" href="namespaceopenrj.html#a53">00210</a> <span class="keyword">enum</span> ORJ_TAG_NAME(ORJ_FLAG)
00211 {
00212         <a class="code" href="namespaceopenrj.html#a53a15">ORJ_FLAG_ORDERFIELDS</a>        =   0x0001  
00213     ,   <a class="code" href="namespaceopenrj.html#a53a16">ORJ_FLAG_ELIDEBLANKRECORDS</a>  =   0x0002  
00214 };
00215 <span class="keyword">typedef</span> <span class="keyword">enum</span> ORJ_TAG_NAME(ORJ_FLAG)         ORJ_FLAG;
00216 
<a name="l00219"></a><a class="code" href="namespaceopenrj.html#a54">00219</a> enum ORJ_TAG_NAME(ORJRC)
00220 {
00221 <span class="comment">/*[OPENRJ:Errors-start]*/</span>
00222         <a class="code" href="namespaceopenrj.html#a54a17">ORJ_RC_SUCCESS</a>              =   0       
00223     ,   <a class="code" href="namespaceopenrj.html#a54a18">ORJ_RC_CANNOTOPENJARFILE</a>                
00224     ,   <a class="code" href="namespaceopenrj.html#a54a19">ORJ_RC_NORECORDS</a>                        
00225     ,   <a class="code" href="namespaceopenrj.html#a54a20">ORJ_RC_OUTOFMEMORY</a>                      
00226     ,   <a class="code" href="namespaceopenrj.html#a54a21">ORJ_RC_BADFILEREAD</a>                      
00227     ,   <a class="code" href="namespaceopenrj.html#a54a22">ORJ_RC_PARSEERROR</a>                       
00228     ,   <a class="code" href="namespaceopenrj.html#a54a23">ORJ_RC_INVALIDINDEX</a>                     
00229     ,   <a class="code" href="namespaceopenrj.html#a54a24">ORJ_RC_UNEXPECTED</a>                       
00230     ,   <a class="code" href="namespaceopenrj.html#a54a25">ORJ_RC_INVALIDCONTENT</a>                   
00231 <span class="comment">/*[OPENRJ:Errors-end]*/</span>
00232 };
00233 <span class="keyword">typedef</span> <span class="keyword">enum</span> ORJ_TAG_NAME(ORJRC)            ORJRC;
00234 
<a name="l00237"></a><a class="code" href="namespaceopenrj.html#a55">00237</a> enum ORJ_TAG_NAME(ORJ_PARSE_ERROR)
00238 {
00239 <span class="comment">/*[OPENRJ:ParseErrors-start]*/</span>
00240         <a class="code" href="namespaceopenrj.html#a55a26">ORJ_PARSE_SUCCESS</a>           =   0       
00241     ,   <a class="code" href="namespaceopenrj.html#a55a27">ORJ_PARSE_RECORDSEPARATORINCONTINUATION</a> 
00242     ,   <a class="code" href="namespaceopenrj.html#a55a28">ORJ_PARSE_UNFINISHEDLINE</a>                
00243     ,   <a class="code" href="namespaceopenrj.html#a55a29">ORJ_PARSE_UNFINISHEDFIELD</a>               
00244     ,   <a class="code" href="namespaceopenrj.html#a55a30">ORJ_PARSE_UNFINISHEDRECORD</a>              
00245 <span class="comment">/*[OPENRJ:ParseErrors-end]*/</span>
00246 };
00247 <span class="keyword">typedef</span> <span class="keyword">enum</span> ORJ_TAG_NAME(ORJ_PARSE_ERROR)  ORJ_PARSE_ERROR;
00248 
00249 
<a name="l00252"></a><a class="code" href="structopenrj_1_1_i_o_r_j_allocator.html">00252</a> struct ORJ_TAG_NAME(<a class="code" href="structopenrj_1_1_i_o_r_j_allocator.html">IORJAllocator</a>)
00253 {
00255     <span class="keywordtype">void</span> *(*pfnAlloc)(<span class="keyword">struct </span>ORJ_TAG_NAME(IORJAllocator) *ator, size_t cb);
00257     <span class="keywordtype">void</span> *(*pfnRealloc)(<span class="keyword">struct </span>ORJ_TAG_NAME(IORJAllocator) *ator, <span class="keywordtype">void</span> *pv, size_t cb);
00259     void (*pfnFree)(<span class="keyword">struct </span>ORJ_TAG_NAME(IORJAllocator) *ator, <span class="keywordtype">void</span> *pv);
00260 };
00261 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(IORJAllocator)  IORJAllocator;
00262 
<a name="l00265"></a><a class="code" href="structopenrj_1_1_o_r_j_string_a.html">00265</a> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJStringA)
00266 {
<a name="l00267"></a><a class="code" href="structopenrj_1_1_o_r_j_string_a.html#openrj_1_1_o_r_j_string_ao0">00267</a>     size_t      len;        
<a name="l00268"></a><a class="code" href="structopenrj_1_1_o_r_j_string_a.html#openrj_1_1_o_r_j_string_ao1">00268</a>     <span class="keywordtype">char</span> <span class="keyword">const</span>  *ptr;       
00269 };
00270 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJStringA)     ORJStringA;
00271 
00272 <span class="keyword">typedef</span> ORJStringA                          <a class="code" href="structopenrj_1_1_o_r_j_string_a.html">ORJString</a>;
00273 <span class="comment">/* typedef ORJStringW                         ORJString; */</span>
00274 
<a name="l00281"></a><a class="code" href="structopenrj_1_1_o_r_j_field_a.html">00281</a> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJFieldA)
00282 {
<a name="l00283"></a><a class="code" href="structopenrj_1_1_o_r_j_field_a.html#openrj_1_1_o_r_j_field_ao0">00283</a>     size_t      mbz0;       
<a name="l00284"></a><a class="code" href="structopenrj_1_1_o_r_j_field_a.html#openrj_1_1_o_r_j_field_ao1">00284</a>     ORJStringA  name;       
<a name="l00285"></a><a class="code" href="structopenrj_1_1_o_r_j_field_a.html#openrj_1_1_o_r_j_field_ao2">00285</a>     ORJStringA  value;      
<a name="l00286"></a><a class="code" href="structopenrj_1_1_o_r_j_field_a.html#openrj_1_1_o_r_j_field_ao3">00286</a>     <span class="keywordtype">void</span>        *reserved0; 
00288 };
00289 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJFieldA)      ORJFieldA;
00290 
00291 <span class="keyword">typedef</span> ORJFieldA                           <a class="code" href="structopenrj_1_1_o_r_j_field_a.html">ORJField</a>;
00292 <span class="comment">/* typedef ORJFieldW                          ORJField; */</span>
00293 
<a name="l00301"></a><a class="code" href="structopenrj_1_1_o_r_j_record_a.html">00301</a> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJRecordA)
00302 {
<a name="l00303"></a><a class="code" href="structopenrj_1_1_o_r_j_record_a.html#openrj_1_1_o_r_j_record_ao0">00303</a>     size_t      mbz0;       
<a name="l00304"></a><a class="code" href="structopenrj_1_1_o_r_j_record_a.html#openrj_1_1_o_r_j_record_ao1">00304</a>     size_t      numFields;  
<a name="l00305"></a><a class="code" href="structopenrj_1_1_o_r_j_record_a.html#openrj_1_1_o_r_j_record_ao2">00305</a>     ORJFieldA   *fields;    
<a name="l00306"></a><a class="code" href="structopenrj_1_1_o_r_j_record_a.html#openrj_1_1_o_r_j_record_ao3">00306</a>     <span class="keywordtype">void</span>        *reserved0; 
00308 };
00309 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJRecordA)     ORJRecordA;
00310 
00311 <span class="keyword">typedef</span> ORJRecordA                          <a class="code" href="structopenrj_1_1_o_r_j_record_a.html">ORJRecord</a>;
00312 <span class="comment">/* typedef ORJRecordW                         ORJRecord; */</span>
00313 
00314 <span class="preprocessor">#if 0</span>
00315 <span class="preprocessor"></span><span class="preprocessor">#ifdef __cplusplus</span>
00316 <span class="preprocessor"></span><span class="keyword">template</span> &lt;size_t N&gt;
00317 <span class="keyword">class </span>Record
00318 {
00319 };
00320 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00321 <span class="preprocessor">#endif </span><span class="comment">/* 0 */</span>
00322 
00323 
<a name="l00331"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html">00331</a> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJDatabaseA)
00332 {
<a name="l00333"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao0">00333</a>     size_t          mbz0;       
<a name="l00334"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao1">00334</a>     size_t          flags;      
<a name="l00335"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao2">00335</a>     size_t          numLines;   
<a name="l00336"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao3">00336</a>     size_t          numFields;  
<a name="l00337"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao4">00337</a>     ORJFieldA       *fields;    
<a name="l00338"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao5">00338</a>     size_t          numRecords; 
<a name="l00339"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao6">00339</a>     ORJRecordA      *records;   
<a name="l00340"></a><a class="code" href="structopenrj_1_1_o_r_j_database_a.html#openrj_1_1_o_r_j_database_ao7">00340</a>     IORJAllocator   *ator;      
00342 };
00343 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJDatabaseA)   ORJDatabaseA;
00344 
00345 <span class="keyword">typedef</span> ORJDatabaseA                        <a class="code" href="structopenrj_1_1_o_r_j_database_a.html">ORJDatabase</a>;
00346 <span class="comment">/* typedef ORJDatabaseW                       ORJDatabase; */</span>
00347 
<a name="l00351"></a><a class="code" href="structopenrj_1_1_o_r_j_error.html">00351</a> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJError)
00352 {
<a name="l00353"></a><a class="code" href="structopenrj_1_1_o_r_j_error.html#openrj_1_1_o_r_j_erroro0">00353</a>     size_t          reserved0;      
<a name="l00354"></a><a class="code" href="structopenrj_1_1_o_r_j_error.html#openrj_1_1_o_r_j_erroro1">00354</a>     <span class="keywordtype">unsigned</span>        invalidLine;    
<a name="l00355"></a><a class="code" href="structopenrj_1_1_o_r_j_error.html#openrj_1_1_o_r_j_erroro2">00355</a>     <span class="keywordtype">unsigned</span>        invalidColumn;  
<a name="l00356"></a><a class="code" href="structopenrj_1_1_o_r_j_error.html#openrj_1_1_o_r_j_erroro3">00356</a>     ORJ_PARSE_ERROR parseError;     
00357 };
00358 <span class="keyword">typedef</span> <span class="keyword">struct </span>ORJ_TAG_NAME(ORJError)       ORJError;
00359 
00360 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00361 <span class="comment"> * API</span>
00362 <span class="comment"> */</span>
00363 
00364 <span class="comment">/***************************************</span>
00365 <span class="comment"> * Database manipulation functions</span>
00366 <span class="comment"> */</span>
00367 
00383 ORJ_CALL(ORJRC) ORJ_ReadDatabaseA(  <span class="comment">/* [in] */</span> <span class="keywordtype">char</span> const           *jarName
00384                                 ,   <span class="comment">/* [in] */</span> IORJAllocator        *ator
00385                                 ,   <span class="comment">/* [in] */</span> <span class="keywordtype">unsigned</span>             flags
00386                                 ,   <span class="comment">/* [out] */</span> ORJDatabaseA const  **pdatabase
00387                                 ,   <span class="comment">/* [out] */</span> ORJError            *error);
00388 
00389 
00394 ORJ_CALL(ORJRC) ORJ_FreeDatabaseA(<span class="comment">/* [in] */</span> ORJDatabaseA const     *database);
00395 
00396 
00402 ORJ_CALL(size_t) ORJ_Database_GetNumLinesA(<span class="comment">/* [in] */</span> ORJDatabaseA const    *database);
00403 
00409 ORJ_CALL(size_t) ORJ_Database_GetNumFieldsA(<span class="comment">/* [in] */</span> ORJDatabaseA const   *database);
00410 
00416 ORJ_CALL(size_t) ORJ_Database_GetNumRecordsA(<span class="comment">/* [in] */</span> ORJDatabaseA const  *database);
00417 
00424 ORJ_CALL(ORJRC) ORJ_Database_GetRecordA(<span class="comment">/* [in] */</span> ORJDatabaseA const   *database
00425                                     ,   <span class="comment">/* [in] */</span> size_t               iRecord
00426                                     ,   <span class="comment">/* [in] */</span> ORJRecordA const     **precord);
00427 
00428 
00431 <span class="comment">/***************************************</span>
00432 <span class="comment"> * Record manipulation functions</span>
00433 <span class="comment"> */</span>
00434 
00446 ORJ_CALL(size_t) ORJ_Record_GetNumFieldsA(  <span class="comment">/* [in] */</span> ORJRecordA const *record);
00447 
00454 ORJ_CALL(ORJRC) ORJ_Record_GetFieldA(       <span class="comment">/* [in] */</span> ORJRecordA const *record
00455                                         ,   <span class="comment">/* [in] */</span> size_t           iField
00456                                         ,   <span class="comment">/* [in] */</span> ORJFieldA const  **pfield);
00457 
00458 ORJ_CALL(ORJFieldA const*) ORJ_Record_FindFieldByNameA( <span class="comment">/* [in] */</span> ORJRecordA const *record
00459                                                     ,   <span class="comment">/* [in] */</span> <span class="keywordtype">char</span> const       *fieldName
00460                                                     ,   <span class="comment">/* [in] */</span> <span class="keywordtype">char</span> const       *fieldValue);
00461 
00467 ORJ_CALL(ORJDatabaseA const*) ORJ_Record_GetDatabaseA(  <span class="comment">/* [in] */</span> ORJRecordA const *record);
00468 
00471 <span class="comment">/***************************************</span>
00472 <span class="comment"> * Field manipulation functions</span>
00473 <span class="comment"> */</span>
00474 
00489 ORJ_CALL(ORJRC) ORJ_Field_GetNameA(         <span class="comment">/* [in] */</span> ORJFieldA const  *field
00490                                         ,   <span class="comment">/* [in] */</span> ORJStringA const **pname);
00491 
00500 ORJ_CALL(ORJRC) ORJ_Field_GetValueA(        <span class="comment">/* [in] */</span> ORJFieldA const  *field
00501                                         ,   <span class="comment">/* [in] */</span> ORJStringA const **pvalue);
00502 
00513 ORJ_CALL(ORJRC) ORJ_Field_GetNameAndValueA( <span class="comment">/* [in] */</span> ORJFieldA const  *field
00514                                         ,   <span class="comment">/* [in] */</span> ORJStringA const **pname
00515                                         ,   <span class="comment">/* [in] */</span> ORJStringA const **pvalue);
00516 
00522 ORJ_CALL(ORJRecordA const*) ORJ_Field_GetRecordA(  <span class="comment">/* [in] */</span> ORJFieldA const *field);
00523 
00527 <span class="comment">/***************************************</span>
00528 <span class="comment"> * Error functions</span>
00529 <span class="comment"> */</span>
00530 
00542 ORJ_CALL(<span class="keywordtype">char</span> const *) ORJ_GetErrorStringA( <span class="comment">/* [in] */</span> ORJRC            errorCode);
00543 
00549 ORJ_CALL(<span class="keywordtype">char</span> const *) ORJ_GetParseErrorStringA( <span class="comment">/* [in] */</span> ORJ_PARSE_ERROR errorCode);
00550 
00554 #ifndef OPENRJ_DOCUMENTATION_SKIP_SECTION
00555 <span class="comment">/***************************************</span>
00556 <span class="comment"> * Implementation functions</span>
00557 <span class="comment"> *</span>
00558 <span class="comment"> * \note These are subject to change in a future version</span>
00559 <span class="comment"> */</span>
00560 
00561 #ifndef __cplusplus
00562 #define ORJ_Database_GetNumLinesA(database)     ((size_t)(database)-&gt;numLines)
00563 #define ORJ_Database_GetNumFieldsA(database)    ((size_t)(database)-&gt;numFields)
00564 #define ORJ_Database_GetNumRecordsA(database)   ((size_t)(database)-&gt;numRecords)
00565 
00566 #define ORJ_Record_GetNumFieldsA(record)        ((size_t)(record)-&gt;numFields)
00567 
00568 #else <span class="comment">/* ? __cplusplus */</span>
00569 
00570 #define ORJ_Database_GetNumLinesA   ORJ_Database_GetNumLinesA_
00571 inline size_t ORJ_Database_GetNumLinesA_(<span class="comment">/* [in] */</span> ORJDatabaseA const *database)
00572 {
00573     <span class="keywordflow">return</span> database-&gt;numLines;
00574 }
00575 
00576 <span class="preprocessor">#define ORJ_Database_GetNumFieldsA  ORJ_Database_GetNumFieldsA_</span>
00577 <span class="preprocessor"></span><span class="keyword">inline</span> size_t ORJ_Database_GetNumFieldsA_(<span class="comment">/* [in] */</span> ORJDatabaseA <span class="keyword">const</span> *database)
00578 {
00579     <span class="keywordflow">return</span> database-&gt;numFields;
00580 }
00581 <span class="preprocessor">#define ORJ_Database_GetNumRecordsA ORJ_Database_GetNumRecordsA_</span>
00582 <span class="preprocessor"></span><span class="keyword">inline</span> size_t ORJ_Database_GetNumRecordsA_(<span class="comment">/* [in] */</span> ORJDatabaseA <span class="keyword">const</span> *database)
00583 {
00584     <span class="keywordflow">return</span> database-&gt;numRecords;
00585 }
00586 
00587 <span class="preprocessor">#define ORJ_Record_GetNumFieldsA    ORJ_Record_GetNumFieldsA_</span>
00588 <span class="preprocessor"></span><span class="keyword">inline</span> size_t ORJ_Record_GetNumFieldsA_(<span class="comment">/* [in] */</span> ORJRecordA <span class="keyword">const</span> *record)
00589 {
00590     <span class="keywordflow">return</span> record-&gt;numFields;
00591 }
00592 
00593 
00594 <span class="preprocessor">#endif </span><span class="comment">/* !__cplusplus */</span>
00595 
00596 <span class="preprocessor">#endif </span><span class="comment">/* !OPENRJ_DOCUMENTATION_SKIP_SECTION */</span>
00597 
00598 
00599 
00600 
00601 <span class="preprocessor">#ifdef __cplusplus</span>
00602 <span class="preprocessor"></span><span class="keyword">inline</span> ORJRC ORJ_ReadDatabase(  <span class="comment">/* [in] */</span> orj_char_t <span class="keyword">const</span>     *jarName
00603                             ,   <span class="comment">/* [in] */</span> IORJAllocator        *ator
00604                             ,   <span class="comment">/* [in] */</span> <span class="keywordtype">unsigned</span>             flags
00605                             ,   <span class="comment">/* [out] */</span> ORJDatabase <span class="keyword">const</span>   **pdatabase
00606                             ,   <span class="comment">/* [out] */</span> ORJError            *error)
00607 {
00608     <span class="keywordflow">return</span> <a class="code" href="namespaceopenrj.html#a31">ORJ_ReadDatabaseA</a>(jarName, ator, flags, pdatabase, error);
00609 }
00610 <span class="keyword">inline</span> ORJRC ORJ_FreeDatabase(<span class="comment">/* [in] */</span> ORJDatabase <span class="keyword">const</span> *database)
00611 {
00612     <span class="keywordflow">return</span> <a class="code" href="namespaceopenrj.html#a32">ORJ_FreeDatabaseA</a>(database);
00613 }
00614 <span class="preprocessor">#else </span><span class="comment">/* ? __cplusplus */</span>
00615 <span class="preprocessor"># define ORJ_ReadDatabase           ORJ_ReadDatabaseA</span>
00616 <span class="preprocessor"></span><span class="preprocessor"># define ORJ_FreeDatabase           ORJ_FreeDatabaseA</span>
00617 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00618 
00619 
00620 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00621 <span class="comment"> * Shims</span>
00622 <span class="comment"> */</span>
00623 
00624 <span class="preprocessor">#ifdef __cplusplus</span>
00625 <span class="preprocessor"></span>
00626 <span class="keyword">inline</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *c_str_ptr(ORJRC rc)
00627 {
00628     <span class="keywordflow">return</span> <a class="code" href="namespaceopenrj.html#a45">ORJ_GetErrorStringA</a>(rc);
00629 }
00630 
00631 <span class="keyword">template</span> &lt;<span class="keyword">class</span> S&gt;
00632 <span class="keyword">inline</span> S &amp;operator &lt;&lt;(S &amp;s, ORJRC rc)
00633 {
00634     <span class="keywordflow">return</span> s &lt;&lt; c_str_ptr(rc);
00635 }
00636 
00637 <span class="keyword">inline</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *c_str_ptr(ORJ_PARSE_ERROR pe)
00638 {
00639     <span class="keywordflow">return</span> <a class="code" href="namespaceopenrj.html#a46">ORJ_GetParseErrorStringA</a>(pe);
00640 }
00641 
00642 <span class="keyword">template</span> &lt;<span class="keyword">class</span> S&gt;
00643 <span class="keyword">inline</span> S &amp;operator &lt;&lt;(S &amp;s, ORJ_PARSE_ERROR pe)
00644 {
00645     <span class="keywordflow">return</span> s &lt;&lt; c_str_ptr(pe);
00646 }
00647 
00648 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00649 
00650 <span class="comment">/* /////////////////////////////////////////////////////////////////////////////</span>
00651 <span class="comment"> * Namespace</span>
00652 <span class="comment"> */</span>
00653 
00654 <span class="preprocessor">#if !defined(ORJ_NO_NAMESPACE)</span>
00655 <span class="preprocessor"></span>} <span class="comment">// namespace openrj</span>
00656 
00657 
00658 <span class="keyword">namespace </span>stlsoft
00659 {
00660     using ::openrj::c_str_ptr;
00661 }
00662 
00663 <span class="preprocessor">#endif </span><span class="comment">/* !ORJ_NO_NAMESPACE */</span>
00664 
00665 <span class="comment">/* ////////////////////////////////////////////////////////////////////////// */</span>
00666 
00667 <span class="preprocessor">#endif </span><span class="comment">/* !OPENRJ_INCL_H_OPENRJ */</span>
00668 
00669 <span class="comment">/* ////////////////////////////////////////////////////////////////////////// */</span>
</div></pre><table width = "100%">
 <tr>
  <td width = "100%">
   <hr width = "100%">
  </td>
 </tr>
 <tr>
  <td align = "center" valign = "middle">
   <font size = "-1">
    <a href = "http://openrj.org/"><b>Open-RJ</b></a>
    Library documentation 
    <a href = "http://synesis.com.au/">© Synesis Software Pty Ltd, 2004</a>
   </font>
  </td>
 </tr>
</table>
